# 📌 Webpack Basic

- 최신 JavaScript 애플리케이션을 위한 정적 모듈 번들러
- 웹팩이 애플리케이션을 처리할 때 내부적 으로 하나 이상의 진입점 에서 종속성 그래프 를 빌드한 다음 프로젝트에 필요한 모든 모듈을 하나 이상의 번들로 결합

> 👀 모듈이란?<br>
> 모듈(module)이란 분리된 파일<br>
>
> - 왜? 작업의 효율성을 위해서<br>
> - 스크립트의 크기가 점점 커지고 복잡해지면서 단순히 하나의 파일이나 클래스로만 관리하기 어려움<br>
> - 방법? 모듈 내부에는 import로 외부모듈의 기능을 가져오고 export로 외부 모듈에서의 접근을 허용하여 모듈의 기능을 내보냅니다.<br>

> 👀 번들이란?<br>
> 번들링이란 모듈들의 의존성 관계를 파악하여 그룹화시켜주는 작업
> 모듈끼리 결합하지 않고 번들링 하는 이유?<br>
>
> - 하나. 여러 개의 파일을 브라우저에서 로딩한다면 네트워크가 그만큼 소모되어 속도가 저하될 수 있습니다.<br>
> - 둘. 모듈 간의 변수 충돌 등의 위험성이 존재합니다. <br>
>   결론? 각각의 분리된 자바스크립트를 모아서 묶어주는 작업을 하는 게 번들링<br>

- 번들링 도구로서의 webpack의 기능
  1. 모듈화 작업을 하는 방식에는 CommonJS, AMD, UMD, ES6 모듈 등같은 모듈 명세들이 다양하게 존재합니다. 웹팩은 이 모두를 지원
  2. 일 분할 기능이 있어서 원하는 코드만 따로 분리해서 압축
  3. CSS 로더의 기능과 리액트의 JSX 변환 작업

## webpack 사용법

### 1. 웹팩 설치 및 실행

- 웹팩 설치하기

  npm i -D webpack webpack-cli
  배포할 때 필요한 패키지가 아니라 개발할 때 필요한 패키지이니까 -D 또는 --save-dev 옵션

- 웹팩 실행하기
  npx webpack --mode development

### 2. Entry, Output, Loader, Plugin 설정

#### 1. Entry

- webpack은 번들링 과정에서 '디펜던시 그래프(dependency graph)'를 그린다
- dependency? 한 파일이 다른 파일을 필요로 하면 이를 '디펜던시(dependency)'가 있다고 해석 -> 이 방식으로 웹팩은 이미지 또는 웹 글꼴과 같이 코드가 아닌 리소스도 디펜던시로 관리
- ![entry 설정](https://media.vlpt.us/images/oh_yunseong/post/a965ece9-beb5-468f-b543-be494e0666f9/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-04-03%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%207.02.10.png)

#### 2. Output

- output 은 웹팩이 번들을 꾸리고 나서 결과물을 어디로 내보낼지 지정하는 속성
- 기본값으로 메인 결과물인 main.js 파일은 ./dist/main.js에, 그 외 파일은 ./dist 폴더에 내보내 진다
- clean을 true로 설정하면 지정한 결과물이 내보내지는 디렉토리(본 예제에서는 dist)안에 사용하지 않는 파일을 알아서 정리
- ![](https://media.vlpt.us/images/oh_yunseong/post/f0b8e728-275f-471d-94d3-6c16c462b547/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-04-03%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%207.24.36.png)

#### 3. Loader

- 웹팩은 기본적으로 JavaScript와 JSON 파일만 이해할 수 있다. 이 때 필요한 것이 Loader
- 사용하려는 포맷에 대응하는 Loader를 설정해주면 다른 포맷의 리소스도 디펜던시 그래프에 추가할 수있게 된다.
- Loader를 설정하려면 'test'와 'use' 두 가지 필수 속성을 적어주어야 한다. 'test'는 어떤 파일을 변환할지 지정하는 속성
- 'use'는 파일을 변환할 때 어떤 로더를 사용해야하는지 명시하는 속성
- 주의할 점은 config에 바로 rules 속성을 쓰는게 아니라 반드시 module.rules에 정의해 주어야 한다는 것이다.
- ![](https://media.vlpt.us/images/oh_yunseong/post/72d28653-cd11-4b66-bb5a-8237b181a186/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-04-03%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%207.32.20.png)
  > 바벨
  > 바벨은 ES6+ 문법으로 작성된 js파일을 ES5문법으로 트랜스파일링 해준다

#### 4. Plugin

- html-webpack-plugin을 사용하면 dist의 main.js를 스크립트 파일로 포함하는 HTML 문서를 dist 디렉토리 내에 자동으로 생성
- ![](https://media.vlpt.us/images/oh_yunseong/post/1a671e3e-3289-440b-917d-39482404c569/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-04-03%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%207.35.50.png)

### 3. dev-server 설정

- 코드를 수정했을 때 다시 빌드하고 새로고침 하지 않아도 바로바로 빌드 결과를 확인할 수 있는 dev-server를 설정

- ![](https://media.vlpt.us/images/oh_yunseong/post/29e84908-6563-49bc-a209-2b13b1546c7e/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-04-03%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%207.38.37.png)
